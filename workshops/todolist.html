<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Create a to-do list and test</title>
  </head>
  <body>
    <h2>All the things I need to do</h2>
    <label for="todoInput">Add item</label>
    <input type="text" id="todoInput" placeholder="Type your task" />
    <button type="button">Add</button>

    <h3>To do list</h3>
    <ul id="todoList">
      <!-- <li>
        <input type="checkbox" />This one<button class="delete">Delete</button>
      </li>
      <li>
        <input type="checkbox" />That one<button class="delete">Delete</button>
      </li> -->
    </ul>
    <h3>Completed list</h3>
    <ul id="doneList">
      <!-- <li>
        <input type="checkbox" />T'other one<button class="delete">
          Delete
        </button>
      </li> -->
    </ul>
    <script>
      // get the variables from the formdom
      // const todoNodes = Array.from(document.getElementsByTagName("li")); //items already in list
      const addButton = document.getElementsByTagName("button")[0]; //need to select one element as it was looking for many elements
      // const deleteButtons = document.getElementsByClassName("delete"); //as there are multiple items
      const deleteButtons = Array.from(
        document.getElementsByClassName("delete")
      ); //as there are multiple items
      const newItem = document.getElementById("todoInput");
      const incompleteTasks = document.getElementById("todoList");
      const completedTasks = document.getElementById("doneList");

      // console.log(todoNodes.length);
      // todoNodes.forEach((element) => {
      //   console.log(element.textContent);
      //   addToDo(element.textContent);
      // });

      // event listeners
      // addButton.addEventListener("click", function () {
      //   addToDo(newItem.value);
      //   // console.log(newItem.value);
      //   // console.log(incompleteTasks);
      // });
      addButton.addEventListener("click", addToDo);

      deleteButtons.forEach((element) => {
        // console.log(element);
        removeToDo(element);
      });

      // functions

      //add to the to do list
      // function addToDo(text) {
      function addToDo() {
        // const todoItem = {
        //   text,
        //   checked: false,
        // };
        // console.log(todoItem);
        // list item
        const listItem = document.createElement("li");
        //checkbox
        const newCheckbox = document.createElement("input");
        newCheckbox.setAttribute("type", "checkbox");
        //add the todo text
        // const itemText = document.createTextNode(text);
        const itemText = document.createTextNode(newItem.value);
        //delete button
        const itemDelete = document.createElement("button");
        // itemDelete.setAttribute("value", "Delete"); didn;t work
        itemDelete.innerText = "Delete";
        itemDelete.className = "delete";
        // itemDelete.classList.add("delete");
        //add the parts to the list item
        listItem.appendChild(newCheckbox);
        listItem.appendChild(itemText);
        listItem.appendChild(itemDelete);
        // add to the todo list
        incompleteTasks.appendChild(listItem);
        console.log(listItem);
      }

      //delete items from lists
      function removeToDo(element) {
        element.addEventListener("click", function () {
          // const itemDelete = this.parentNode;
          // const ul = itemDelete.parentNode;
          console.log(element);
          // ul.removeChild(itemDelete);
        });
      }

      //add to the completed list
      function completeTask() {}
    </script>
  </body>
</html>
